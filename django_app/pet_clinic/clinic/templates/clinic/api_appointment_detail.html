{% extends 'clinic/base.html' %}

{% block content %}
<div class="appointment-status">
    <h2>Appointment Details (API)</h2>
    <div class="status-card">
        <div class="status-header">
            <h3>Appointment #{{ appointment.id }}</h3>
            <span class="status-badge {{ appointment.status|lower }}">{{ appointment.status }}</span>
        </div>
        <div class="status-details">
            <p><strong>Pet:</strong> {{ pet.name }}</p>
            {% if clinic %}
                <p><strong>Clinic:</strong> {{ clinic.name }}</p>
            {% endif %}
            <p><strong>Date:</strong> {{ appointment.date }}</p>
            <p><strong>Time:</strong> {{ appointment.time }}</p>
            <p><strong>Reason:</strong> {{ appointment.reason }}</p>
            <p><strong>Created:</strong> {{ appointment.created_at }}</p>
        </div>
        <div class="status-actions">
            {% if appointment.status == 'PENDING' or appointment.status == 'CONFIRMED' %}
                <a href="{% url 'api_cancel_appointment' appointment.id %}" class="btn">Cancel Appointment</a>
            {% endif %}
            <a href="{% url 'api_appointment_list' %}" class="btn">Back to Appointments</a>
        </div>
    </div>
</div>
{% endblock %}